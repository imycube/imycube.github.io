<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8" />
    <title> Nav </title>
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
</head>
<body>
<header class="align-right">
    <a href="./index.html">首页</a>
</header>

<main>
    <div class="nav-box">
        
    </div>
    
</main>
<script>
    fetch('./json/type.json').then(response => {
        return response.json();
    }).then(types => {
        var x = document.getElementsByClassName('nav-box');
        types.forEach(type => {
            var t = document.createElement('div');
            t.id = type.type;
            console.log(t);
            x[0].appendChild(t);
            var h2 = document.createElement('h2');
            h2.textContent = type.name;
            t.appendChild(h2);
        });
        fetch('./json/nav.json').then(response => {
            return response.json();
        }).then(jsondata => {
            var mdata = '';
            jsondata.forEach(j => {
                var type = document.getElementById(j.type);
                var addr = document.createElement('a');
                addr.href = j.address;
                addr.target = '_blank';
                addr.className = 'nav-content ';
                addr.textContent = j.name;
                type.appendChild(addr);
            });
        });
    })
    
</script>
</body>
</html>